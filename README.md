# 災害マップ用API 
## 概要
11/18,19の2日間のハッカソンで作成しました。
主な機能は以下の2つになります。
- 避難所の位置データを返す機能
- ユーザが地図上にコメントを残すことができる機能

避難所場所のデータベース(現在は東京都のみ)を持っており、API経由でフロントに情報を送ることができます。
地図情報と組み合わせて利用することを想定しています。
また、ユーザは任意の位置情報に対してコメントを追加できます。
災害時にどこの場所がどのような状況かをテキストデータで記録できます。

## API

https://biscket-v5.onrender.com/

renderにデプロイしました。
上記URLにアクセスすると、FastAPIが自動で作成するSwaggerUIが表示されます。
※起動するのに時間がかかる場合があります

## フロントとの連携

https://github.com/Takuho3650/MinSai

今回はフロントチームが上記のコードを作成し、本APIとGoogleMapAPIに対してリクエストを送って、
レスポンス結果を画面に表示するという処理を担っています。

## 開発箇所
biscketレポジトリの各ファイルについては基本的には私1人で作成し、
shelter.pyとshelter.dbはチームメンバーに作成していただきました。

## 今後の課題
- 機能面
コメントは複数人が登録できるようにしたい。
もともとコメントテーブルとピンのテーブル2つ用意して、ピンのidを元にリレーションを行っていたが、
ピンの情報とそれに紐づいたコメント情報を返す機能を作る際に不具合がおき、時間内で解決できなかった。

- エラー処理
今回はデータとして緯度と経度(小数点)、コメントを登録するようにした。
リクエストを受け付ける中で、リクエストに対するエラーハンドリングなどが実装できていないため、
HTTPExceptionなどを用いて実装したい。

